---
title: 'Troubleshooting Guide'
description: 'Common issues and solutions for TestZeus Hercules'
---

## Installation Issues

### Python Version Compatibility

<AccordionGroup>
  <Accordion title="Python version not supported">
    **Problem**: Error about Python version compatibility
    
    **Solution**:
    ```bash
    # Check your Python version
    python --version
    
    # Hercules requires Python 3.8+
    # Install a compatible version
    # On Ubuntu/Debian:
    sudo apt update
    sudo apt install python3.10 python3.10-venv
    
    # On macOS with Homebrew:
    brew install python@3.10
    
    # On Windows:
    # Download from python.org or use winget
    winget install Python.Python.3.10
    ```
  </Accordion>

  <Accordion title="pip installation fails">
    **Problem**: pip install testzeus-hercules fails
    
    **Solution**:
    ```bash
    # Upgrade pip first
    python -m pip install --upgrade pip
    
    # Try installing with verbose output
    pip install -v testzeus-hercules
    
    # If still failing, try with --no-cache-dir
    pip install --no-cache-dir testzeus-hercules
    
    # For permission issues on Linux/macOS
    pip install --user testzeus-hercules
    ```
  </Accordion>

  <Accordion title="Playwright browser installation fails">
    **Problem**: playwright install command fails
    
    **Solution**:
    ```bash
    # Install system dependencies first (Linux)
    playwright install-deps
    
    # Then install browsers
    playwright install
    
    # For specific browser only
    playwright install chromium
    
    # If behind corporate firewall
    PLAYWRIGHT_DOWNLOAD_HOST=https://your-proxy.com playwright install
    ```
  </Accordion>
</AccordionGroup>

### Environment Setup Issues

<AccordionGroup>
  <Accordion title="Virtual environment issues">
    **Problem**: Virtual environment not working properly
    
    **Solution**:
    ```bash
    # Remove existing environment
    rm -rf venv
    
    # Create new virtual environment
    python -m venv venv
    
    # Activate (Linux/macOS)
    source venv/bin/activate
    
    # Activate (Windows)
    venv\Scripts\activate
    
    # Verify activation
    which python  # Should point to venv
    ```
  </Accordion>

  <Accordion title="PATH issues">
    **Problem**: Command not found errors
    
    **Solution**:
    ```bash
    # Check if hercules is installed
    pip list | grep testzeus-hercules
    
    # If installed but not found, check PATH
    echo $PATH
    
    # Add to PATH (Linux/macOS)
    export PATH="$HOME/.local/bin:$PATH"
    
    # Make permanent by adding to ~/.bashrc or ~/.zshrc
    echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
    ```
  </Accordion>
</AccordionGroup>

## Configuration Issues

### LLM API Configuration

<AccordionGroup>
  <Accordion title="OpenAI API key not working">
    **Problem**: Authentication errors with OpenAI
    
    **Solution**:
    ```bash
    # Verify API key format
    echo $OPENAI_API_KEY
    # Should start with 'sk-' and be 51 characters long
    
    # Test API key directly
    curl -H "Authorization: Bearer $OPENAI_API_KEY" \
         https://api.openai.com/v1/models
    
    # Set API key properly
    export OPENAI_API_KEY="sk-your-actual-key-here"
    
    # Make permanent
    echo 'export OPENAI_API_KEY="sk-your-key"' >> ~/.bashrc
    ```
  </Accordion>

  <Accordion title="Rate limiting errors">
    **Problem**: Too many requests to LLM API
    
    **Solution**:
    ```bash
    # Reduce parallel tests
    export PARALLEL_TESTS=1
    
    # Add delays between requests
    export LLM_REQUEST_DELAY=1000  # milliseconds
    
    # Use different model with higher limits
    export OPENAI_MODEL="gpt-3.5-turbo"
    
    # Implement retry logic
    export LLM_MAX_RETRIES=5
    export LLM_BACKOFF_FACTOR=2
    ```
  </Accordion>

  <Accordion title="Model not found errors">
    **Problem**: Specified model is not available
    
    **Solution**:
    ```bash
    # Check available models
    curl -H "Authorization: Bearer $OPENAI_API_KEY" \
         https://api.openai.com/v1/models
    
    # Use a standard model
    export OPENAI_MODEL="gpt-4o"
    # or
    export OPENAI_MODEL="gpt-3.5-turbo"
    
    # For other providers, check their documentation
    export ANTHROPIC_MODEL="claude-3-5-haiku-20241022"
    ```
  </Accordion>
</AccordionGroup>

### Browser Configuration

<AccordionGroup>
  <Accordion title="Browser not launching">
    **Problem**: Browser fails to start
    
    **Solution**:
    ```bash
    # Check if browsers are installed
    playwright install --dry-run
    
    # Install missing browsers
    playwright install chromium
    
    # Try different browser
    export BROWSER_TYPE="firefox"
    
    # For headless issues
    export HEADLESS="false"
    
    # Add browser arguments for Docker/CI
    export BROWSER_ARGS="--no-sandbox --disable-dev-shm-usage"
    ```
  </Accordion>

  <Accordion title="Browser crashes">
    **Problem**: Browser crashes during test execution
    
    **Solution**:
    ```bash
    # Increase shared memory (Docker)
    docker run --shm-size=2g ...
    
    # Disable GPU acceleration
    export BROWSER_ARGS="--disable-gpu --disable-dev-shm-usage"
    
    # Reduce browser timeout
    export BROWSER_TIMEOUT=30000
    
    # Use different browser
    export BROWSER_TYPE="webkit"
    ```
  </Accordion>

  <Accordion title="Element not found errors">
    **Problem**: Cannot find elements on page
    
    **Solution**:
    ```bash
    # Increase wait timeout
    export ELEMENT_TIMEOUT=30000
    
    # Enable debug mode
    export DEBUG=true
    export HEADLESS=false
    
    # Take screenshots for debugging
    export SCREENSHOT_ON_FAILURE=true
    
    # Slow down execution
    export SLOW_MO=1000
    ```
  </Accordion>
</AccordionGroup>

## Test Execution Issues

### Test Failures

<AccordionGroup>
  <Accordion title="Timeout errors">
    **Problem**: Tests timing out frequently
    
    **Solution**:
    ```bash
    # Increase various timeouts
    export BROWSER_TIMEOUT=60000
    export PAGE_LOAD_TIMEOUT=60000
    export ELEMENT_TIMEOUT=30000
    export TEST_TIMEOUT=300
    
    # Reduce parallel execution
    export PARALLEL_TESTS=1
    
    # Check network connectivity
    ping google.com
    
    # Use local test environment
    export TEST_ENV="local"
    ```
  </Accordion>

  <Accordion title="Flaky tests">
    **Problem**: Tests pass sometimes, fail other times
    
    **Solution**:
    ```bash
    # Enable retries
    export MAX_RETRIES=3
    
    # Add explicit waits in tests
    # Use "And I wait for 2 seconds" in Gherkin
    
    # Disable animations
    export BROWSER_ARGS="--disable-animations"
    
    # Use stable selectors
    # Prefer data-testid over CSS classes
    
    # Run tests multiple times to identify patterns
    for i in {1..10}; do hercules test.feature; done
    ```
  </Accordion>

  <Accordion title="Memory issues">
    **Problem**: Out of memory errors
    
    **Solution**:
    ```bash
    # Reduce parallel tests
    export PARALLEL_TESTS=1
    
    # Increase system memory limits
    export MEMORY_LIMIT=4096
    
    # Enable garbage collection
    export ENABLE_GC=true
    
    # Disable unnecessary features
    export SCREENSHOT_ON_SUCCESS=false
    export RECORD_VIDEO=false
    
    # Monitor memory usage
    htop  # or top on macOS
    ```
  </Accordion>
</AccordionGroup>

### Performance Issues

<AccordionGroup>
  <Accordion title="Slow test execution">
    **Problem**: Tests running very slowly
    
    **Solution**:
    ```bash
    # Enable parallel execution
    export PARALLEL_TESTS=4
    
    # Use headless mode
    export HEADLESS=true
    
    # Disable unnecessary features
    export SCREENSHOT_ON_SUCCESS=false
    export ENABLE_TRACE=false
    
    # Use faster browser
    export BROWSER_TYPE="chromium"
    
    # Optimize network
    export NETWORK_THROTTLING=false
    ```
  </Accordion>

  <Accordion title="High CPU usage">
    **Problem**: Hercules consuming too much CPU
    
    **Solution**:
    ```bash
    # Limit CPU usage
    export CPU_LIMIT=80
    
    # Reduce parallel tests
    export PARALLEL_TESTS=2
    
    # Use lower quality settings
    export BROWSER_ARGS="--disable-gpu --disable-animations"
    
    # Monitor CPU usage
    top -p $(pgrep -f hercules)
    ```
  </Accordion>
</AccordionGroup>

## Network and Connectivity Issues

### API Connectivity

<AccordionGroup>
  <Accordion title="Cannot reach LLM APIs">
    **Problem**: Network errors when calling LLM APIs
    
    **Solution**:
    ```bash
    # Test connectivity
    curl -I https://api.openai.com
    curl -I https://api.anthropic.com
    
    # Check proxy settings
    echo $HTTP_PROXY
    echo $HTTPS_PROXY
    
    # Configure proxy if needed
    export HTTPS_PROXY="http://proxy.company.com:8080"
    
    # Use different DNS
    export DNS_SERVERS="8.8.8.8,8.8.4.4"
    ```
  </Accordion>

  <Accordion title="SSL certificate errors">
    **Problem**: SSL/TLS certificate verification failures
    
    **Solution**:
    ```bash
    # Update certificates
    # On Ubuntu/Debian:
    sudo apt update && sudo apt install ca-certificates
    
    # On macOS:
    brew install ca-certificates
    
    # Temporarily disable SSL verification (not recommended for production)
    export VERIFY_SSL=false
    
    # Use custom CA bundle
    export CA_BUNDLE_PATH="/path/to/custom/ca-bundle.crt"
    ```
  </Accordion>
</AccordionGroup>

### Firewall and Security

<AccordionGroup>
  <Accordion title="Corporate firewall blocking requests">
    **Problem**: Requests blocked by corporate firewall
    
    **Solution**:
    ```bash
    # Configure proxy
    export HTTP_PROXY="http://proxy.company.com:8080"
    export HTTPS_PROXY="http://proxy.company.com:8080"
    
    # Add proxy authentication
    export HTTP_PROXY="http://username:password@proxy.company.com:8080"
    
    # Whitelist required domains
    # api.openai.com
    # api.anthropic.com
    # api.groq.com
    # playwright.azureedge.net (for browser downloads)
    
    # Use internal LLM if available
    export OPENAI_BASE_URL="https://internal-llm.company.com/v1"
    ```
  </Accordion>
</AccordionGroup>

## Docker Issues

### Container Problems

<AccordionGroup>
  <Accordion title="Docker container fails to start">
    **Problem**: Container exits immediately or fails to start
    
    **Solution**:
    ```bash
    # Check Docker logs
    docker logs container_name
    
    # Run with interactive mode for debugging
    docker run -it testzeus/hercules:latest bash
    
    # Check resource limits
    docker stats
    
    # Increase memory and shared memory
    docker run --memory=4g --shm-size=2g testzeus/hercules:latest
    ```
  </Accordion>

  <Accordion title="Volume mounting issues">
    **Problem**: Files not accessible in container
    
    **Solution**:
    ```bash
    # Check file permissions
    ls -la /path/to/files
    
    # Fix ownership
    sudo chown -R $USER:$USER /path/to/files
    
    # Use absolute paths
    docker run -v "$(pwd):/workspace" testzeus/hercules:latest
    
    # On Windows, use proper path format
    docker run -v "${PWD}:/workspace" testzeus/hercules:latest
    ```
  </Accordion>

  <Accordion title="Browser issues in Docker">
    **Problem**: Browser not working in Docker container
    
    **Solution**:
    ```bash
    # Use proper browser arguments
    docker run -e BROWSER_ARGS="--no-sandbox --disable-dev-shm-usage" \
               testzeus/hercules:latest
    
    # Increase shared memory
    docker run --shm-size=2g testzeus/hercules:latest
    
    # Use host network (Linux only)
    docker run --network host testzeus/hercules:latest
    ```
  </Accordion>
</AccordionGroup>

## CI/CD Issues

### GitHub Actions

<AccordionGroup>
  <Accordion title="Tests failing in CI but passing locally">
    **Problem**: Different behavior between local and CI environments
    
    **Solution**:
    ```yaml
    # Add debugging to GitHub Actions
    - name: Debug Environment
      run: |
        echo "Python version: $(python --version)"
        echo "Pip version: $(pip --version)"
        echo "Environment variables:"
        env | grep -E "(OPENAI|BROWSER|HEADLESS)"
    
    # Use same environment as local
    - name: Set Environment
      run: |
        echo "HEADLESS=true" >> $GITHUB_ENV
        echo "CI_MODE=true" >> $GITHUB_ENV
        echo "BROWSER_ARGS=--no-sandbox --disable-dev-shm-usage" >> $GITHUB_ENV
    
    # Add retry logic
    - name: Run Tests with Retry
      uses: nick-invision/retry@v2
      with:
        timeout_minutes: 10
        max_attempts: 3
        command: hercules tests/
    ```
  </Accordion>

  <Accordion title="Secrets not working">
    **Problem**: API keys not accessible in CI
    
    **Solution**:
    ```yaml
    # Check secret configuration in GitHub
    # Settings > Secrets and variables > Actions
    
    # Use secrets properly in workflow
    env:
      OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
    
    # Debug (don't log actual secrets)
    - name: Check Secrets
      run: |
        if [ -z "$OPENAI_API_KEY" ]; then
          echo "OPENAI_API_KEY is not set"
          exit 1
        else
          echo "OPENAI_API_KEY is set (length: ${#OPENAI_API_KEY})"
        fi
    ```
  </Accordion>
</AccordionGroup>

## Debugging Techniques

### Enable Debug Mode

```bash
# Enable comprehensive debugging
export DEBUG=true
export LOG_LEVEL=DEBUG
export VERBOSE=true

# Run with debug output
hercules --verbose test.feature

# Save debug output to file
hercules test.feature 2>&1 | tee debug.log
```

### Browser Debugging

```bash
# Run with visible browser
export HEADLESS=false

# Enable developer tools
export ENABLE_DEV_TOOLS=true

# Slow down execution
export SLOW_MO=2000

# Take screenshots at each step
export SCREENSHOT_ON_SUCCESS=true
export SCREENSHOT_ON_FAILURE=true
```

### Network Debugging

```bash
# Enable network logging
export LOG_NETWORK=true

# Test API connectivity
curl -v -H "Authorization: Bearer $OPENAI_API_KEY" \
     https://api.openai.com/v1/models

# Check DNS resolution
nslookup api.openai.com

# Test with different DNS
export DNS_SERVERS="1.1.1.1,1.0.0.1"
```

## Getting Additional Help

### Information to Provide

When asking for help, include:

1. **Environment Information**:
   ```bash
   # System info
   uname -a
   python --version
   pip list | grep testzeus
   
   # Environment variables
   env | grep -E "(OPENAI|BROWSER|HEADLESS|DEBUG)"
   ```

2. **Error Messages**: Complete error messages and stack traces

3. **Test Code**: The Gherkin feature file causing issues

4. **Configuration**: Relevant configuration files and environment variables

5. **Steps to Reproduce**: Exact steps that lead to the issue

### Where to Get Help

- **Slack Community**: [Join our Slack](https://join.slack.com/t/testzeuscommunityhq/shared_invite/zt-2v2br8wog-FAmo_76xRHx~k~1oNaGQ0Q)
- **GitHub Issues**: [Create an issue](https://github.com/test-zeus-ai/testzeus-hercules/issues)
- **Documentation**: Check the comprehensive documentation
- **Examples**: Review the provided examples and use cases

### Emergency Debugging

If you're completely stuck:

```bash
# Reset to clean state
pip uninstall testzeus-hercules
rm -rf ~/.cache/pip
rm -rf venv

# Fresh installation
python -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install testzeus-hercules
playwright install

# Test with minimal configuration
export OPENAI_API_KEY="your-key"
export HEADLESS=false
export DEBUG=true

# Run simple test
echo 'Feature: Test
Scenario: Simple test
  Given I have a web browser open
  When I navigate to "https://example.com"
  Then I should see "Example Domain"' > simple.feature

hercules simple.feature
```

## Next Steps

If you're still experiencing issues:

1. [Join our Slack community](/community/slack) for real-time help
2. [Check the contributing guide](/community/contributing) for development setup
3. [Review the architecture documentation](/architecture/overview) for deeper understanding
4. [Explore examples](/examples/ui-automation) for working implementations

Remember, the community is here to help! Don't hesitate to ask questions in Slack or create GitHub issues for persistent problems.
